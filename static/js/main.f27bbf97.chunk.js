(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,a,t){e.exports=t(35)},27:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(17),i=t.n(o),l=t(38),c=(t(27),t(5)),s=t(6),m=t(8),d=t(7),u=t(9),h=t(19),g=t(13),p=[{_id:"common",name:"Common"},{_id:"rare",name:"Rare"},{_id:"eRare",name:"Extremely Rare"}];function v(){return p.filter(function(e){return e})}var b=[{_id:"1",name:"Goshawk",category:{_id:"rare",name:"Rare"},description:"The northern goshawk is a medium-large raptor in the family Accipitridae.",date:"2/14/2019, 9:53:00 AM"},{_id:"2",name:"Mallard",category:{_id:"eRare",name:"Extremely Rare"},description:"Thin-bodied, medium-sized white or dark heron, with long, thin neck and bill, dark legs.",date:"2/15/2019, 12:55:56 PM"},{_id:"3",name:"Peregrine",category:{_id:"eRare",name:"Extremely Rare"},description:"The northern goshawk is a medium-large raptor in the family Accipitridae.",date:"2/11/2019, 9:53:00 AM"},{_id:"4",name:"Falcon",category:{_id:"common",name:"Common"},description:"The peregrine falcon, also known as the peregrine, alconidae.",date:"2/16/2019, 12:55:56 PM"},{_id:"5",name:"Peregrine",category:{_id:"eRare",name:"Extremely Rare"},description:"The northern goshawk is a medium-large raptor in the family Accipitridae.",date:"2/16/2019, 9:53:00 AM"},{_id:"6",name:"Falcon",category:{_id:"common",name:"Common"},description:"The peregrine falcon, also known as the peregrine, alconidae.",date:"2/14/2019, 12:55:56 PM"},{_id:"7",name:"Peregrine",category:{_id:"eRare",name:"Extremely Rare"},description:"The northern goshawk is a medium-large raptor in the family Accipitridae.",date:"2/16/2019, 9:53:00 AM"},{_id:"8",name:"Falcon",category:{_id:"common",name:"Common"},description:"The peregrine falcon, also known as the peregrine, alconidae.",date:"2/14/2019, 12:55:56 PM"}];var f=t(11),y=t.n(f),E=function(e){var a=e.ObservationsCount,t=e.pageSize,n=e.currentPage,o=(e.onPageChange,Math.ceil(a/t));if(1===o)return null;var i=y.a.range(1,o+1);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},i.map(function(a){return r.a.createElement("li",{key:a,className:a===n?"page-item active":"page-item"},r.a.createElement("a",{onClick:function(){return e.onPageChange(a)},className:"page-link"},a))})))};var C=function(e){var a=e.listCategory,t=e.onCategorySelect,n=e.selectedCategory;return r.a.createElement("div",null,r.a.createElement("ul",{className:"list=group"},a.map(function(e){return r.a.createElement("li",{onClick:function(){return t(e)},key:e._id,className:e===n?"list-group-item clickable active":"list-group-item clickable"},e.name)})))},k=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.observations,t=e.handleDelete,n=e.handleSort,o=e.handleSortIcon;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"clickable"},r.a.createElement("th",{onClick:function(){return n("name")}}," Name ",o()),r.a.createElement("th",null," Found "),r.a.createElement("th",null,"Description"),r.a.createElement("th",{onClick:function(){return n("date")}},"Date ",o()),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.category&&e.category.name),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.date),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return t(e)},className:"btn btn-danger btn-sm"},"Delete")))})))}}]),a}(n.Component),O=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={observations:[],category:[],pageSize:4,currentPage:1,selectedCategory:null,sortColumn:{path:"date",order:"desc"},sortDirection:""},t.handleDelete=function(e){var a=t.state.observations.filter(function(a){return a._id!==e._id});t.setState({observations:a})},t.handlePageChange=function(e){t.setState({currentPage:e})},t.handleCategorySelect=function(e){t.setState({selectedCategory:e,currentPage:1})},t.handleSort=function(e){var a=Object(g.a)({},t.state.sortColumn);a.path===e?a.order="asc"===a.order?"desc":"asc":(a.path=e,a.order="asc"),t.setState({sortColumn:a})},t.handleSortIcon=function(e){return"asc"===t.state.sortColumn.order?r.a.createElement("i",{className:"fa  fa-sort-asc"}):r.a.createElement("i",{className:"fa fa-sort-desc"})},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=[{_id:"",name:"All Observations"}].concat(Object(h.a)(v()));this.setState({observations:b,category:e})}},{key:"render",value:function(){var e=this.state.observations.length,a=this.state,t=a.pageSize,n=a.currentPage,o=a.selectedCategory,i=a.sortColumn,l=a.observations;if(0===e)return r.a.createElement("p",null,"There are no observations in the local Storage. ");var c=o&&o._id?l.filter(function(e){return e.category._id===o._id}):l,s=function(e,a,t){var n=(a-1)*t;return y()(e).slice(n).take(t).value()}(y.a.orderBy(c,[i.path],[i.order]),n,t);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(C,{listCategory:this.state.category,selectedCategory:this.state.selectedCategory,onCategorySelect:this.handleCategorySelect})),r.a.createElement("div",{className:"col"}," ",r.a.createElement("p",null,"There are ",c.length,"  Observation recorded."),r.a.createElement(k,{handleDelete:this.handleDelete,observations:s,handleSort:this.handleSort,handleSortIcon:this.handleSortIcon}),r.a.createElement(E,{ObservationsCount:c.length,pageSize:t,onPageChange:this.handlePageChange,currentPage:n})))}}]),a}(n.Component),S=function(e){var a=e.name,t=e.label,n=e.value,o=e.onChange,i=e.type;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:a}," ",t," "),r.a.createElement("input",{value:n,onChange:o,id:a,name:a,type:i,className:"form-control"}))},_=t(21),N=function(e){var a=e.name,t=e.label,n=e.options,o=Object(_.a)(e,["name","label","options"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:a},t),r.a.createElement("select",Object.assign({name:a,id:a},o,{className:"form-control"}),r.a.createElement("option",{value:""}),n.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)})))},j=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={data:{name:"",category:"",description:"",date:""},category:[]},t.doSubmit=function(){""!==t.state.data.name&&""!==t.state.data.category&&""!==t.state.data.description&&(!function(e){var a=b.find(function(a){return a._id===e._id})||{};a.name=e.name,a.category=p.find(function(a){return a._id===e.category}),a.description=e.description,a.date=(new Date).toLocaleString(),a._id||(a._id=Date.now().toString(),b.push(a))}(t.state.data),console.log(t.state.data),t.props.history.push("/observations"))},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=v();this.setState({category:e});this.props.match.params.id}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Observation Form"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("name","Name*"),this.renderSelect("category","Category*",this.state.category),this.renderInput("description","Description*"),this.renderButton("Save")))}}]),a}(function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={data:{}},t.handleSubmit=function(e){e.preventDefault(),t.doSubmit()},t.handleChange=function(e){var a=e.currentTarget,n=Object(g.a)({},t.state.data);n[a.name]=a.value,t.setState({data:n})},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"renderButton",value:function(e){return r.a.createElement("button",{class:"btn btn-primary"},e)}},{key:"renderInput",value:function(e,a){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t=this.state.data;return r.a.createElement(S,{name:e,value:t[e],label:a,onChange:this.handleChange})}},{key:"renderSelect",value:function(e,a,t){var n=this.state.data;return r.a.createElement(N,{name:e,value:n[e],label:a,options:t,onChange:this.handleChange})}}]),a}(n.Component)),w=function(){return r.a.createElement("div",null,"Not Found")},P=t(20),A=t(37),D=t(18),M=t(36),R=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(D.a,{className:"navbar-brand",to:"/"},"Birds Watching Application"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(M.a,{className:"nav-item nav-link",to:"/observations"}," Observations "),r.a.createElement(M.a,{className:"nav-item nav-link",to:"/form"}," Add New Observation "))))},T=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R,null),r.a.createElement("main",{className:"container"},r.a.createElement("switch",null,r.a.createElement(P.a,{path:"/observations",component:O}),r.a.createElement(P.a,{path:"/form",component:j}),r.a.createElement(P.a,{path:"/notFound",component:w}),r.a.createElement(A.a,{from:"/",exact:!0,to:"/observations"}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(33);i.a.render(r.a.createElement(l.a,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.f27bbf97.chunk.js.map